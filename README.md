# Endurance in Zone

A Garmin IQ Data Field that can show time within a zone as a percentage of a target duration.

# Why?

Have you ever tried to do a structured endurance workout outdoors? It can be frustrating. You're trying to stick to a target power, but traffic, descents, and challenging road surfaces all do their best to derail your workout.

What can you do about it?

- Do your workouts indoors on a trainer. That will make it easy to stick to a structured workout, but it's not fun when your ride is several hours long.
- Just use average power or weighted average power, and make up for the dips in power by going harder elsewhere. The problem with this is that you're actually doing a harder workout than prescribed.
- Pause your workout whenever it's not possible to match the power target. I don't know about you, but where I live there are short descents all the time, and constantly pausing my ride seems very unnatural.
- Don't pause the workout, but use the lap button, and keep track of the total duration of "good" laps in your head. Needless to say, this takes some effort and is error-prone.
- Don't worry so much about the numbers. Just get the miles in, and do your best to stick to the target power. Sure, this can work, but it's not ideal if you care about the quality of your workouts.

There is a better option: use _Endurance in Zone!_

# Demo

<p float="left">
    <img src="images/forerunner.gif" alt="Garmin Forerunner 945" width="30%">
    <img src="images/marq.png" alt="Garmin MARQ Adventurer" width="30%">
    <img src="images/edge130.png" alt="Garmin Edge 130" width="30%">
</p>

<p float="left">
    <img src="images/edge1040.png" alt="Garmin Edge 1040" width="30%">
    <img src="images/settings.jpg" alt="Settings" width="30%">
</p>

# TODO

- [x] Show time in zone as a percentage of desired duration.
- [x] Show green/red background indicating if you are currently reaching the target or not.
- [x] Configurable power zones as app settings.
- [x] Show three independent zones concurrently.
- [x] Reset data when activity ends.
- [x] Use 30 second average rather than current power.
- [x] Show 1-3 zones properly, as configured.
- [x] Display properly on various data field sizes, truncating where needed.
- [x] Use the largest font that will fit.
- [x] Support heart rate as well as power.
- [x] Use light/dark red/green to achieve a progress look.
- [x] Black/white support.
- [x] Restore data if app is suspended and resumed.
- [x] Rename to Endurance in Zone
- [x] Use white text colour.
- [x] Adjust one pixel down.
- [ ] Tested on all devices using simulator, incl. oldest and newest, round watches, and black/white.
- [ ] Update docs.
- [ ] Update images.
- [ ] Test crash report.
- [ ] Publish first version.
- [ ] Market.
